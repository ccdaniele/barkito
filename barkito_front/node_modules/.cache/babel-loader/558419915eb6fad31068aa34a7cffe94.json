{"ast":null,"code":"'use strict';\n\nconst TracingPlugin = require('./tracing'); // TODO: Exit span on finish when AsyncResource instances are removed.\n\n\nclass OutgoingPlugin extends TracingPlugin {\n  constructor() {\n    super(...arguments);\n    this.addTraceSub('connect', message => {\n      this.connect(message);\n    });\n  }\n\n  connect(url) {\n    this.addHost(url.hostname, url.port);\n  }\n\n  addHost(hostname, port) {\n    const span = this.activeSpan();\n    if (!span) return;\n    span.addTags({\n      'out.host': hostname,\n      'out.port': port\n    });\n  }\n\n}\n\nmodule.exports = OutgoingPlugin;","map":{"version":3,"names":["TracingPlugin","require","OutgoingPlugin","constructor","addTraceSub","message","connect","url","addHost","hostname","port","span","activeSpan","addTags","module","exports"],"sources":["/Users/daniel.calderon/Projects/barkito/barkito_front/node_modules/dd-trace/packages/dd-trace/src/plugins/outgoing.js"],"sourcesContent":["'use strict'\n\nconst TracingPlugin = require('./tracing')\n\n// TODO: Exit span on finish when AsyncResource instances are removed.\nclass OutgoingPlugin extends TracingPlugin {\n  constructor (...args) {\n    super(...args)\n\n    this.addTraceSub('connect', message => {\n      this.connect(message)\n    })\n  }\n\n  connect (url) {\n    this.addHost(url.hostname, url.port)\n  }\n\n  addHost (hostname, port) {\n    const span = this.activeSpan()\n\n    if (!span) return\n\n    span.addTags({\n      'out.host': hostname,\n      'out.port': port\n    })\n  }\n}\n\nmodule.exports = OutgoingPlugin\n"],"mappings":"AAAA;;AAEA,MAAMA,aAAa,GAAGC,OAAO,CAAC,WAAD,CAA7B,C,CAEA;;;AACA,MAAMC,cAAN,SAA6BF,aAA7B,CAA2C;EACzCG,WAAW,GAAW;IACpB,MAAM,YAAN;IAEA,KAAKC,WAAL,CAAiB,SAAjB,EAA4BC,OAAO,IAAI;MACrC,KAAKC,OAAL,CAAaD,OAAb;IACD,CAFD;EAGD;;EAEDC,OAAO,CAAEC,GAAF,EAAO;IACZ,KAAKC,OAAL,CAAaD,GAAG,CAACE,QAAjB,EAA2BF,GAAG,CAACG,IAA/B;EACD;;EAEDF,OAAO,CAAEC,QAAF,EAAYC,IAAZ,EAAkB;IACvB,MAAMC,IAAI,GAAG,KAAKC,UAAL,EAAb;IAEA,IAAI,CAACD,IAAL,EAAW;IAEXA,IAAI,CAACE,OAAL,CAAa;MACX,YAAYJ,QADD;MAEX,YAAYC;IAFD,CAAb;EAID;;AAtBwC;;AAyB3CI,MAAM,CAACC,OAAP,GAAiBb,cAAjB"},"metadata":{},"sourceType":"script"}