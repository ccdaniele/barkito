{"ast":null,"code":"'use strict';\n\nconst semver = require('semver');\n\nconst logger = require('./log');\n\nconst {\n  addHook\n} = require('import-in-the-middle');\n\nconst dc = require('diagnostics_channel');\n\nif (semver.satisfies(process.versions.node, '>=14.13.1')) {\n  const moduleLoadStartChannel = dc.channel('dd-trace:moduleLoadStart');\n  addHook((name, namespace) => {\n    if (moduleLoadStartChannel.hasSubscribers) {\n      moduleLoadStartChannel.publish({\n        filename: name,\n        module: namespace\n      });\n    }\n  });\n  module.exports = require('import-in-the-middle');\n} else {\n  logger.warn('ESM is not fully supported by this version of Node.js, ' + 'so dd-trace will not intercept ESM loading.');\n\n  module.exports = () => ({\n    unhook: () => {}\n  });\n\n  module.exports.addHook = () => {};\n\n  module.exports.removeHook = () => {};\n}","map":{"version":3,"names":["semver","require","logger","addHook","dc","satisfies","process","versions","node","moduleLoadStartChannel","channel","name","namespace","hasSubscribers","publish","filename","module","exports","warn","unhook","removeHook"],"sources":["/Users/daniel.calderon/Projects/barkito/barkito_front/node_modules/dd-trace/packages/dd-trace/src/iitm.js"],"sourcesContent":["'use strict'\n\nconst semver = require('semver')\nconst logger = require('./log')\nconst { addHook } = require('import-in-the-middle')\nconst dc = require('diagnostics_channel')\n\nif (semver.satisfies(process.versions.node, '>=14.13.1')) {\n  const moduleLoadStartChannel = dc.channel('dd-trace:moduleLoadStart')\n  addHook((name, namespace) => {\n    if (moduleLoadStartChannel.hasSubscribers) {\n      moduleLoadStartChannel.publish({\n        filename: name,\n        module: namespace\n      })\n    }\n  })\n  module.exports = require('import-in-the-middle')\n} else {\n  logger.warn('ESM is not fully supported by this version of Node.js, ' +\n    'so dd-trace will not intercept ESM loading.')\n  module.exports = () => ({\n    unhook: () => {}\n  })\n  module.exports.addHook = () => {}\n  module.exports.removeHook = () => {}\n}\n"],"mappings":"AAAA;;AAEA,MAAMA,MAAM,GAAGC,OAAO,CAAC,QAAD,CAAtB;;AACA,MAAMC,MAAM,GAAGD,OAAO,CAAC,OAAD,CAAtB;;AACA,MAAM;EAAEE;AAAF,IAAcF,OAAO,CAAC,sBAAD,CAA3B;;AACA,MAAMG,EAAE,GAAGH,OAAO,CAAC,qBAAD,CAAlB;;AAEA,IAAID,MAAM,CAACK,SAAP,CAAiBC,OAAO,CAACC,QAAR,CAAiBC,IAAlC,EAAwC,WAAxC,CAAJ,EAA0D;EACxD,MAAMC,sBAAsB,GAAGL,EAAE,CAACM,OAAH,CAAW,0BAAX,CAA/B;EACAP,OAAO,CAAC,CAACQ,IAAD,EAAOC,SAAP,KAAqB;IAC3B,IAAIH,sBAAsB,CAACI,cAA3B,EAA2C;MACzCJ,sBAAsB,CAACK,OAAvB,CAA+B;QAC7BC,QAAQ,EAAEJ,IADmB;QAE7BK,MAAM,EAAEJ;MAFqB,CAA/B;IAID;EACF,CAPM,CAAP;EAQAI,MAAM,CAACC,OAAP,GAAiBhB,OAAO,CAAC,sBAAD,CAAxB;AACD,CAXD,MAWO;EACLC,MAAM,CAACgB,IAAP,CAAY,4DACV,6CADF;;EAEAF,MAAM,CAACC,OAAP,GAAiB,OAAO;IACtBE,MAAM,EAAE,MAAM,CAAE;EADM,CAAP,CAAjB;;EAGAH,MAAM,CAACC,OAAP,CAAed,OAAf,GAAyB,MAAM,CAAE,CAAjC;;EACAa,MAAM,CAACC,OAAP,CAAeG,UAAf,GAA4B,MAAM,CAAE,CAApC;AACD"},"metadata":{},"sourceType":"script"}