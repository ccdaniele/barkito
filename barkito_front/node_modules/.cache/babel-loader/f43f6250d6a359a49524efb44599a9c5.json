{"ast":null,"code":"'use strict';\n\nconst {\n  Readable\n} = require('stream');\n\nconst id = require('../../id');\n\nclass FormData extends Readable {\n  constructor() {\n    super();\n    this._boundary = id().toString();\n    this._data = [];\n  }\n\n  append(key, value) {\n    let options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n\n    this._appendBoundary();\n\n    if (options.filename) {\n      this._appendFile(key, value, options);\n    } else {\n      this._appendMetadata(key, value, options);\n    }\n  }\n\n  getHeaders() {\n    return {\n      'Content-Type': 'multipart/form-data; boundary=' + this._boundary\n    };\n  }\n\n  _appendBoundary() {\n    this._data.push(`--${this._boundary}\\r\\n`);\n  }\n\n  _appendMetadata(key, value) {\n    this._data.push(`Content-Disposition: form-data; name=\"${key}\"\\r\\n\\r\\n${value}\\r\\n`);\n  }\n\n  _appendFile(key, value, _ref) {\n    let {\n      filename,\n      contentType = 'application/octet-stream'\n    } = _ref;\n\n    this._data.push(`Content-Disposition: form-data; name=\"${key}\"; filename=\"${filename}\"\\r\\n`);\n\n    this._data.push(`Content-Type: ${contentType}\\r\\n\\r\\n`);\n\n    this._data.push(value);\n\n    this._data.push('\\r\\n');\n  }\n\n  _read() {\n    this.push(this._data.shift());\n\n    if (this._data.length === 0) {\n      this.push(`--${this._boundary}--\\r\\n`);\n      this.push(null);\n    }\n  }\n\n}\n\nmodule.exports = FormData;","map":{"version":3,"names":["Readable","require","id","FormData","constructor","_boundary","toString","_data","append","key","value","options","_appendBoundary","filename","_appendFile","_appendMetadata","getHeaders","push","contentType","_read","shift","length","module","exports"],"sources":["/Users/daniel.calderon/Projects/barkito/barkito_front/node_modules/dd-trace/packages/dd-trace/src/exporters/common/form-data.js"],"sourcesContent":["'use strict'\n\nconst { Readable } = require('stream')\nconst id = require('../../id')\n\nclass FormData extends Readable {\n  constructor () {\n    super()\n\n    this._boundary = id().toString()\n    this._data = []\n  }\n\n  append (key, value, options = {}) {\n    this._appendBoundary()\n\n    if (options.filename) {\n      this._appendFile(key, value, options)\n    } else {\n      this._appendMetadata(key, value, options)\n    }\n  }\n\n  getHeaders () {\n    return { 'Content-Type': 'multipart/form-data; boundary=' + this._boundary }\n  }\n\n  _appendBoundary () {\n    this._data.push(`--${this._boundary}\\r\\n`)\n  }\n\n  _appendMetadata (key, value) {\n    this._data.push(`Content-Disposition: form-data; name=\"${key}\"\\r\\n\\r\\n${value}\\r\\n`)\n  }\n\n  _appendFile (key, value, { filename, contentType = 'application/octet-stream' }) {\n    this._data.push(`Content-Disposition: form-data; name=\"${key}\"; filename=\"${filename}\"\\r\\n`)\n    this._data.push(`Content-Type: ${contentType}\\r\\n\\r\\n`)\n    this._data.push(value)\n    this._data.push('\\r\\n')\n  }\n\n  _read () {\n    this.push(this._data.shift())\n\n    if (this._data.length === 0) {\n      this.push(`--${this._boundary}--\\r\\n`)\n      this.push(null)\n    }\n  }\n}\n\nmodule.exports = FormData\n"],"mappings":"AAAA;;AAEA,MAAM;EAAEA;AAAF,IAAeC,OAAO,CAAC,QAAD,CAA5B;;AACA,MAAMC,EAAE,GAAGD,OAAO,CAAC,UAAD,CAAlB;;AAEA,MAAME,QAAN,SAAuBH,QAAvB,CAAgC;EAC9BI,WAAW,GAAI;IACb;IAEA,KAAKC,SAAL,GAAiBH,EAAE,GAAGI,QAAL,EAAjB;IACA,KAAKC,KAAL,GAAa,EAAb;EACD;;EAEDC,MAAM,CAAEC,GAAF,EAAOC,KAAP,EAA4B;IAAA,IAAdC,OAAc,uEAAJ,EAAI;;IAChC,KAAKC,eAAL;;IAEA,IAAID,OAAO,CAACE,QAAZ,EAAsB;MACpB,KAAKC,WAAL,CAAiBL,GAAjB,EAAsBC,KAAtB,EAA6BC,OAA7B;IACD,CAFD,MAEO;MACL,KAAKI,eAAL,CAAqBN,GAArB,EAA0BC,KAA1B,EAAiCC,OAAjC;IACD;EACF;;EAEDK,UAAU,GAAI;IACZ,OAAO;MAAE,gBAAgB,mCAAmC,KAAKX;IAA1D,CAAP;EACD;;EAEDO,eAAe,GAAI;IACjB,KAAKL,KAAL,CAAWU,IAAX,CAAiB,KAAI,KAAKZ,SAAU,MAApC;EACD;;EAEDU,eAAe,CAAEN,GAAF,EAAOC,KAAP,EAAc;IAC3B,KAAKH,KAAL,CAAWU,IAAX,CAAiB,yCAAwCR,GAAI,YAAWC,KAAM,MAA9E;EACD;;EAEDI,WAAW,CAAEL,GAAF,EAAOC,KAAP,QAAsE;IAAA,IAAxD;MAAEG,QAAF;MAAYK,WAAW,GAAG;IAA1B,CAAwD;;IAC/E,KAAKX,KAAL,CAAWU,IAAX,CAAiB,yCAAwCR,GAAI,gBAAeI,QAAS,OAArF;;IACA,KAAKN,KAAL,CAAWU,IAAX,CAAiB,iBAAgBC,WAAY,UAA7C;;IACA,KAAKX,KAAL,CAAWU,IAAX,CAAgBP,KAAhB;;IACA,KAAKH,KAAL,CAAWU,IAAX,CAAgB,MAAhB;EACD;;EAEDE,KAAK,GAAI;IACP,KAAKF,IAAL,CAAU,KAAKV,KAAL,CAAWa,KAAX,EAAV;;IAEA,IAAI,KAAKb,KAAL,CAAWc,MAAX,KAAsB,CAA1B,EAA6B;MAC3B,KAAKJ,IAAL,CAAW,KAAI,KAAKZ,SAAU,QAA9B;MACA,KAAKY,IAAL,CAAU,IAAV;IACD;EACF;;AA5C6B;;AA+ChCK,MAAM,CAACC,OAAP,GAAiBpB,QAAjB"},"metadata":{},"sourceType":"script"}