{"ast":null,"code":"'use strict'; // From https://github.com/sindresorhus/random-int/blob/c37741b56f76b9160b0b63dae4e9c64875128146/index.js#L13-L15\n\nconst randomInteger = (minimum, maximum) => Math.floor(Math.random() * (maximum - minimum + 1) + minimum);\n\nconst createAbortError = () => {\n  const error = new Error('Delay aborted');\n  error.name = 'AbortError';\n  return error;\n};\n\nconst createDelay = _ref => {\n  let {\n    clearTimeout: defaultClear,\n    setTimeout: set,\n    willResolve\n  } = _ref;\n  return function (ms) {\n    let {\n      value,\n      signal\n    } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n    if (signal && signal.aborted) {\n      return Promise.reject(createAbortError());\n    }\n\n    let timeoutId;\n    let settle;\n    let rejectFn;\n    const clear = defaultClear || clearTimeout;\n\n    const signalListener = () => {\n      clear(timeoutId);\n      rejectFn(createAbortError());\n    };\n\n    const cleanup = () => {\n      if (signal) {\n        signal.removeEventListener('abort', signalListener);\n      }\n    };\n\n    const delayPromise = new Promise((resolve, reject) => {\n      settle = () => {\n        cleanup();\n\n        if (willResolve) {\n          resolve(value);\n        } else {\n          reject(value);\n        }\n      };\n\n      rejectFn = reject;\n      timeoutId = (set || setTimeout)(settle, ms);\n    });\n\n    if (signal) {\n      signal.addEventListener('abort', signalListener, {\n        once: true\n      });\n    }\n\n    delayPromise.clear = () => {\n      clear(timeoutId);\n      timeoutId = null;\n      settle();\n    };\n\n    return delayPromise;\n  };\n};\n\nconst createWithTimers = clearAndSet => {\n  const delay = createDelay({ ...clearAndSet,\n    willResolve: true\n  });\n  delay.reject = createDelay({ ...clearAndSet,\n    willResolve: false\n  });\n\n  delay.range = (minimum, maximum, options) => delay(randomInteger(minimum, maximum), options);\n\n  return delay;\n};\n\nconst delay = createWithTimers();\ndelay.createWithTimers = createWithTimers;\nmodule.exports = delay; // TODO: Remove this for the next major release\n\nmodule.exports.default = delay;","map":{"version":3,"names":["randomInteger","minimum","maximum","Math","floor","random","createAbortError","error","Error","name","createDelay","clearTimeout","defaultClear","setTimeout","set","willResolve","ms","value","signal","aborted","Promise","reject","timeoutId","settle","rejectFn","clear","signalListener","cleanup","removeEventListener","delayPromise","resolve","addEventListener","once","createWithTimers","clearAndSet","delay","range","options","module","exports","default"],"sources":["/Users/daniel.calderon/Projects/barkito/barkito_front/node_modules/delay/index.js"],"sourcesContent":["'use strict';\n\n// From https://github.com/sindresorhus/random-int/blob/c37741b56f76b9160b0b63dae4e9c64875128146/index.js#L13-L15\nconst randomInteger = (minimum, maximum) => Math.floor((Math.random() * (maximum - minimum + 1)) + minimum);\n\nconst createAbortError = () => {\n\tconst error = new Error('Delay aborted');\n\terror.name = 'AbortError';\n\treturn error;\n};\n\nconst createDelay = ({clearTimeout: defaultClear, setTimeout: set, willResolve}) => (ms, {value, signal} = {}) => {\n\tif (signal && signal.aborted) {\n\t\treturn Promise.reject(createAbortError());\n\t}\n\n\tlet timeoutId;\n\tlet settle;\n\tlet rejectFn;\n\tconst clear = defaultClear || clearTimeout;\n\n\tconst signalListener = () => {\n\t\tclear(timeoutId);\n\t\trejectFn(createAbortError());\n\t};\n\n\tconst cleanup = () => {\n\t\tif (signal) {\n\t\t\tsignal.removeEventListener('abort', signalListener);\n\t\t}\n\t};\n\n\tconst delayPromise = new Promise((resolve, reject) => {\n\t\tsettle = () => {\n\t\t\tcleanup();\n\t\t\tif (willResolve) {\n\t\t\t\tresolve(value);\n\t\t\t} else {\n\t\t\t\treject(value);\n\t\t\t}\n\t\t};\n\n\t\trejectFn = reject;\n\t\ttimeoutId = (set || setTimeout)(settle, ms);\n\t});\n\n\tif (signal) {\n\t\tsignal.addEventListener('abort', signalListener, {once: true});\n\t}\n\n\tdelayPromise.clear = () => {\n\t\tclear(timeoutId);\n\t\ttimeoutId = null;\n\t\tsettle();\n\t};\n\n\treturn delayPromise;\n};\n\nconst createWithTimers = clearAndSet => {\n\tconst delay = createDelay({...clearAndSet, willResolve: true});\n\tdelay.reject = createDelay({...clearAndSet, willResolve: false});\n\tdelay.range = (minimum, maximum, options) => delay(randomInteger(minimum, maximum), options);\n\treturn delay;\n};\n\nconst delay = createWithTimers();\ndelay.createWithTimers = createWithTimers;\n\nmodule.exports = delay;\n// TODO: Remove this for the next major release\nmodule.exports.default = delay;\n"],"mappings":"AAAA,a,CAEA;;AACA,MAAMA,aAAa,GAAG,CAACC,OAAD,EAAUC,OAAV,KAAsBC,IAAI,CAACC,KAAL,CAAYD,IAAI,CAACE,MAAL,MAAiBH,OAAO,GAAGD,OAAV,GAAoB,CAArC,CAAD,GAA4CA,OAAvD,CAA5C;;AAEA,MAAMK,gBAAgB,GAAG,MAAM;EAC9B,MAAMC,KAAK,GAAG,IAAIC,KAAJ,CAAU,eAAV,CAAd;EACAD,KAAK,CAACE,IAAN,GAAa,YAAb;EACA,OAAOF,KAAP;AACA,CAJD;;AAMA,MAAMG,WAAW,GAAG;EAAA,IAAC;IAACC,YAAY,EAAEC,YAAf;IAA6BC,UAAU,EAAEC,GAAzC;IAA8CC;EAA9C,CAAD;EAAA,OAAgE,UAACC,EAAD,EAA8B;IAAA,IAAzB;MAACC,KAAD;MAAQC;IAAR,CAAyB,uEAAP,EAAO;;IACjH,IAAIA,MAAM,IAAIA,MAAM,CAACC,OAArB,EAA8B;MAC7B,OAAOC,OAAO,CAACC,MAAR,CAAef,gBAAgB,EAA/B,CAAP;IACA;;IAED,IAAIgB,SAAJ;IACA,IAAIC,MAAJ;IACA,IAAIC,QAAJ;IACA,MAAMC,KAAK,GAAGb,YAAY,IAAID,YAA9B;;IAEA,MAAMe,cAAc,GAAG,MAAM;MAC5BD,KAAK,CAACH,SAAD,CAAL;MACAE,QAAQ,CAAClB,gBAAgB,EAAjB,CAAR;IACA,CAHD;;IAKA,MAAMqB,OAAO,GAAG,MAAM;MACrB,IAAIT,MAAJ,EAAY;QACXA,MAAM,CAACU,mBAAP,CAA2B,OAA3B,EAAoCF,cAApC;MACA;IACD,CAJD;;IAMA,MAAMG,YAAY,GAAG,IAAIT,OAAJ,CAAY,CAACU,OAAD,EAAUT,MAAV,KAAqB;MACrDE,MAAM,GAAG,MAAM;QACdI,OAAO;;QACP,IAAIZ,WAAJ,EAAiB;UAChBe,OAAO,CAACb,KAAD,CAAP;QACA,CAFD,MAEO;UACNI,MAAM,CAACJ,KAAD,CAAN;QACA;MACD,CAPD;;MASAO,QAAQ,GAAGH,MAAX;MACAC,SAAS,GAAG,CAACR,GAAG,IAAID,UAAR,EAAoBU,MAApB,EAA4BP,EAA5B,CAAZ;IACA,CAZoB,CAArB;;IAcA,IAAIE,MAAJ,EAAY;MACXA,MAAM,CAACa,gBAAP,CAAwB,OAAxB,EAAiCL,cAAjC,EAAiD;QAACM,IAAI,EAAE;MAAP,CAAjD;IACA;;IAEDH,YAAY,CAACJ,KAAb,GAAqB,MAAM;MAC1BA,KAAK,CAACH,SAAD,CAAL;MACAA,SAAS,GAAG,IAAZ;MACAC,MAAM;IACN,CAJD;;IAMA,OAAOM,YAAP;EACA,CA9CmB;AAAA,CAApB;;AAgDA,MAAMI,gBAAgB,GAAGC,WAAW,IAAI;EACvC,MAAMC,KAAK,GAAGzB,WAAW,CAAC,EAAC,GAAGwB,WAAJ;IAAiBnB,WAAW,EAAE;EAA9B,CAAD,CAAzB;EACAoB,KAAK,CAACd,MAAN,GAAeX,WAAW,CAAC,EAAC,GAAGwB,WAAJ;IAAiBnB,WAAW,EAAE;EAA9B,CAAD,CAA1B;;EACAoB,KAAK,CAACC,KAAN,GAAc,CAACnC,OAAD,EAAUC,OAAV,EAAmBmC,OAAnB,KAA+BF,KAAK,CAACnC,aAAa,CAACC,OAAD,EAAUC,OAAV,CAAd,EAAkCmC,OAAlC,CAAlD;;EACA,OAAOF,KAAP;AACA,CALD;;AAOA,MAAMA,KAAK,GAAGF,gBAAgB,EAA9B;AACAE,KAAK,CAACF,gBAAN,GAAyBA,gBAAzB;AAEAK,MAAM,CAACC,OAAP,GAAiBJ,KAAjB,C,CACA;;AACAG,MAAM,CAACC,OAAP,CAAeC,OAAf,GAAyBL,KAAzB"},"metadata":{},"sourceType":"script"}