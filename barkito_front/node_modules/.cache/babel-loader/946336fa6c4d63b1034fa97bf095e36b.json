{"ast":null,"code":"'use strict';\n\nconst RouterPlugin = require('../../datadog-plugin-router/src');\n\nconst web = require('../../dd-trace/src/plugins/util/web');\n\nclass KoaPlugin extends RouterPlugin {\n  static get name() {\n    return 'koa';\n  }\n\n  constructor() {\n    super(...arguments);\n    this.addSub('apm:koa:request:handle', _ref => {\n      let {\n        req\n      } = _ref;\n      this.setFramework(req, 'koa', this.config);\n    });\n    this.addSub('apm:koa:request:route', _ref2 => {\n      let {\n        req,\n        route\n      } = _ref2;\n      web.setRoute(req, route);\n    });\n  }\n\n}\n\nmodule.exports = KoaPlugin;","map":{"version":3,"names":["RouterPlugin","require","web","KoaPlugin","name","constructor","addSub","req","setFramework","config","route","setRoute","module","exports"],"sources":["/Users/daniel.calderon/Projects/barkito/barkito_front/node_modules/dd-trace/packages/datadog-plugin-koa/src/index.js"],"sourcesContent":["'use strict'\n\nconst RouterPlugin = require('../../datadog-plugin-router/src')\nconst web = require('../../dd-trace/src/plugins/util/web')\n\nclass KoaPlugin extends RouterPlugin {\n  static get name () {\n    return 'koa'\n  }\n\n  constructor (...args) {\n    super(...args)\n\n    this.addSub('apm:koa:request:handle', ({ req }) => {\n      this.setFramework(req, 'koa', this.config)\n    })\n\n    this.addSub('apm:koa:request:route', ({ req, route }) => {\n      web.setRoute(req, route)\n    })\n  }\n}\n\nmodule.exports = KoaPlugin\n"],"mappings":"AAAA;;AAEA,MAAMA,YAAY,GAAGC,OAAO,CAAC,iCAAD,CAA5B;;AACA,MAAMC,GAAG,GAAGD,OAAO,CAAC,qCAAD,CAAnB;;AAEA,MAAME,SAAN,SAAwBH,YAAxB,CAAqC;EACpB,WAAJI,IAAI,GAAI;IACjB,OAAO,KAAP;EACD;;EAEDC,WAAW,GAAW;IACpB,MAAM,YAAN;IAEA,KAAKC,MAAL,CAAY,wBAAZ,EAAsC,QAAa;MAAA,IAAZ;QAAEC;MAAF,CAAY;MACjD,KAAKC,YAAL,CAAkBD,GAAlB,EAAuB,KAAvB,EAA8B,KAAKE,MAAnC;IACD,CAFD;IAIA,KAAKH,MAAL,CAAY,uBAAZ,EAAqC,SAAoB;MAAA,IAAnB;QAAEC,GAAF;QAAOG;MAAP,CAAmB;MACvDR,GAAG,CAACS,QAAJ,CAAaJ,GAAb,EAAkBG,KAAlB;IACD,CAFD;EAGD;;AAfkC;;AAkBrCE,MAAM,CAACC,OAAP,GAAiBV,SAAjB"},"metadata":{},"sourceType":"script"}