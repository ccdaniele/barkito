{"ast":null,"code":"'use strict';\n\nconst RouterPlugin = require('../../datadog-plugin-router/src');\n\nconst web = require('../../dd-trace/src/plugins/util/web');\n\nclass RestifyPlugin extends RouterPlugin {\n  static get name() {\n    return 'restify';\n  }\n\n  constructor() {\n    super(...arguments);\n    this.addSub('apm:restify:request:handle', _ref => {\n      let {\n        req\n      } = _ref;\n      this.setFramework(req, 'restify', this.config);\n    });\n    this.addSub('apm:restify:request:route', _ref2 => {\n      let {\n        req,\n        route\n      } = _ref2;\n      web.setRoute(req, route);\n    });\n  }\n\n  configure(config) {\n    return super.configure({ ...config,\n      middleware: false // not supported\n\n    });\n  }\n\n}\n\nmodule.exports = RestifyPlugin;","map":{"version":3,"names":["RouterPlugin","require","web","RestifyPlugin","name","constructor","addSub","req","setFramework","config","route","setRoute","configure","middleware","module","exports"],"sources":["/Users/daniel.calderon/Projects/barkito/barkito_front/node_modules/dd-trace/packages/datadog-plugin-restify/src/index.js"],"sourcesContent":["'use strict'\n\nconst RouterPlugin = require('../../datadog-plugin-router/src')\nconst web = require('../../dd-trace/src/plugins/util/web')\n\nclass RestifyPlugin extends RouterPlugin {\n  static get name () {\n    return 'restify'\n  }\n\n  constructor (...args) {\n    super(...args)\n\n    this.addSub('apm:restify:request:handle', ({ req }) => {\n      this.setFramework(req, 'restify', this.config)\n    })\n\n    this.addSub('apm:restify:request:route', ({ req, route }) => {\n      web.setRoute(req, route)\n    })\n  }\n\n  configure (config) {\n    return super.configure({\n      ...config,\n      middleware: false // not supported\n    })\n  }\n}\n\nmodule.exports = RestifyPlugin\n"],"mappings":"AAAA;;AAEA,MAAMA,YAAY,GAAGC,OAAO,CAAC,iCAAD,CAA5B;;AACA,MAAMC,GAAG,GAAGD,OAAO,CAAC,qCAAD,CAAnB;;AAEA,MAAME,aAAN,SAA4BH,YAA5B,CAAyC;EACxB,WAAJI,IAAI,GAAI;IACjB,OAAO,SAAP;EACD;;EAEDC,WAAW,GAAW;IACpB,MAAM,YAAN;IAEA,KAAKC,MAAL,CAAY,4BAAZ,EAA0C,QAAa;MAAA,IAAZ;QAAEC;MAAF,CAAY;MACrD,KAAKC,YAAL,CAAkBD,GAAlB,EAAuB,SAAvB,EAAkC,KAAKE,MAAvC;IACD,CAFD;IAIA,KAAKH,MAAL,CAAY,2BAAZ,EAAyC,SAAoB;MAAA,IAAnB;QAAEC,GAAF;QAAOG;MAAP,CAAmB;MAC3DR,GAAG,CAACS,QAAJ,CAAaJ,GAAb,EAAkBG,KAAlB;IACD,CAFD;EAGD;;EAEDE,SAAS,CAAEH,MAAF,EAAU;IACjB,OAAO,MAAMG,SAAN,CAAgB,EACrB,GAAGH,MADkB;MAErBI,UAAU,EAAE,KAFS,CAEH;;IAFG,CAAhB,CAAP;EAID;;AAtBsC;;AAyBzCC,MAAM,CAACC,OAAP,GAAiBZ,aAAjB"},"metadata":{},"sourceType":"script"}