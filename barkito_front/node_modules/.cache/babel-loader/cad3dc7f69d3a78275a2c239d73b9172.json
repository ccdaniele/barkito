{"ast":null,"code":"'use strict';\n\nconst {\n  DDSketch\n} = require('@datadog/sketches-js');\n\nclass Histogram {\n  constructor() {\n    this.reset();\n  }\n\n  get min() {\n    return this._min;\n  }\n\n  get max() {\n    return this._max;\n  }\n\n  get avg() {\n    return this._count === 0 ? 0 : this._sum / this._count;\n  }\n\n  get sum() {\n    return this._sum;\n  }\n\n  get count() {\n    return this._count;\n  }\n\n  get median() {\n    return this.percentile(50);\n  }\n\n  get p95() {\n    return this.percentile(95);\n  }\n\n  percentile(percentile) {\n    return this._histogram.getValueAtQuantile(percentile / 100) || 0;\n  }\n\n  record(value) {\n    if (this._count === 0) {\n      this._min = this._max = value;\n    } else {\n      this._min = Math.min(this._min, value);\n      this._max = Math.max(this._max, value);\n    }\n\n    this._count++;\n    this._sum += value;\n\n    this._histogram.accept(value);\n  }\n\n  reset() {\n    this._min = 0;\n    this._max = 0;\n    this._sum = 0;\n    this._count = 0;\n    this._histogram = new DDSketch();\n  }\n\n}\n\nmodule.exports = Histogram;","map":{"version":3,"names":["DDSketch","require","Histogram","constructor","reset","min","_min","max","_max","avg","_count","_sum","sum","count","median","percentile","p95","_histogram","getValueAtQuantile","record","value","Math","accept","module","exports"],"sources":["/Users/daniel.calderon/Projects/barkito/barkito_front/node_modules/dd-trace/packages/dd-trace/src/histogram.js"],"sourcesContent":["'use strict'\n\nconst { DDSketch } = require('@datadog/sketches-js')\n\nclass Histogram {\n  constructor () {\n    this.reset()\n  }\n\n  get min () { return this._min }\n  get max () { return this._max }\n  get avg () { return this._count === 0 ? 0 : this._sum / this._count }\n  get sum () { return this._sum }\n  get count () { return this._count }\n  get median () { return this.percentile(50) }\n  get p95 () { return this.percentile(95) }\n\n  percentile (percentile) {\n    return this._histogram.getValueAtQuantile(percentile / 100) || 0\n  }\n\n  record (value) {\n    if (this._count === 0) {\n      this._min = this._max = value\n    } else {\n      this._min = Math.min(this._min, value)\n      this._max = Math.max(this._max, value)\n    }\n\n    this._count++\n    this._sum += value\n\n    this._histogram.accept(value)\n  }\n\n  reset () {\n    this._min = 0\n    this._max = 0\n    this._sum = 0\n    this._count = 0\n\n    this._histogram = new DDSketch()\n  }\n}\n\nmodule.exports = Histogram\n"],"mappings":"AAAA;;AAEA,MAAM;EAAEA;AAAF,IAAeC,OAAO,CAAC,sBAAD,CAA5B;;AAEA,MAAMC,SAAN,CAAgB;EACdC,WAAW,GAAI;IACb,KAAKC,KAAL;EACD;;EAEM,IAAHC,GAAG,GAAI;IAAE,OAAO,KAAKC,IAAZ;EAAkB;;EACxB,IAAHC,GAAG,GAAI;IAAE,OAAO,KAAKC,IAAZ;EAAkB;;EACxB,IAAHC,GAAG,GAAI;IAAE,OAAO,KAAKC,MAAL,KAAgB,CAAhB,GAAoB,CAApB,GAAwB,KAAKC,IAAL,GAAY,KAAKD,MAAhD;EAAwD;;EAC9D,IAAHE,GAAG,GAAI;IAAE,OAAO,KAAKD,IAAZ;EAAkB;;EACtB,IAALE,KAAK,GAAI;IAAE,OAAO,KAAKH,MAAZ;EAAoB;;EACzB,IAANI,MAAM,GAAI;IAAE,OAAO,KAAKC,UAAL,CAAgB,EAAhB,CAAP;EAA4B;;EACrC,IAAHC,GAAG,GAAI;IAAE,OAAO,KAAKD,UAAL,CAAgB,EAAhB,CAAP;EAA4B;;EAEzCA,UAAU,CAAEA,UAAF,EAAc;IACtB,OAAO,KAAKE,UAAL,CAAgBC,kBAAhB,CAAmCH,UAAU,GAAG,GAAhD,KAAwD,CAA/D;EACD;;EAEDI,MAAM,CAAEC,KAAF,EAAS;IACb,IAAI,KAAKV,MAAL,KAAgB,CAApB,EAAuB;MACrB,KAAKJ,IAAL,GAAY,KAAKE,IAAL,GAAYY,KAAxB;IACD,CAFD,MAEO;MACL,KAAKd,IAAL,GAAYe,IAAI,CAAChB,GAAL,CAAS,KAAKC,IAAd,EAAoBc,KAApB,CAAZ;MACA,KAAKZ,IAAL,GAAYa,IAAI,CAACd,GAAL,CAAS,KAAKC,IAAd,EAAoBY,KAApB,CAAZ;IACD;;IAED,KAAKV,MAAL;IACA,KAAKC,IAAL,IAAaS,KAAb;;IAEA,KAAKH,UAAL,CAAgBK,MAAhB,CAAuBF,KAAvB;EACD;;EAEDhB,KAAK,GAAI;IACP,KAAKE,IAAL,GAAY,CAAZ;IACA,KAAKE,IAAL,GAAY,CAAZ;IACA,KAAKG,IAAL,GAAY,CAAZ;IACA,KAAKD,MAAL,GAAc,CAAd;IAEA,KAAKO,UAAL,GAAkB,IAAIjB,QAAJ,EAAlB;EACD;;AAtCa;;AAyChBuB,MAAM,CAACC,OAAP,GAAiBtB,SAAjB"},"metadata":{},"sourceType":"script"}