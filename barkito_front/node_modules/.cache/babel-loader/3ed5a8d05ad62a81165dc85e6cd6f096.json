{"ast":null,"code":"'use strict';\n\nconst {\n  addHook,\n  AsyncResource\n} = require('./helpers/instrument');\n\nconst shimmer = require('../../datadog-shimmer');\n\nfunction wrapRequest(original) {\n  return function () {\n    const id = arguments.length - 1;\n    arguments[id] = AsyncResource.bind(arguments[id]);\n    return original.apply(this, arguments);\n  };\n}\n\naddHook({\n  name: 'limitd-client',\n  versions: ['>=2.8']\n}, LimitdClient => {\n  shimmer.wrap(LimitdClient.prototype, '_directRequest', wrapRequest);\n  shimmer.wrap(LimitdClient.prototype, '_retriedRequest', wrapRequest);\n  return LimitdClient;\n});","map":{"version":3,"names":["addHook","AsyncResource","require","shimmer","wrapRequest","original","id","arguments","length","bind","apply","name","versions","LimitdClient","wrap","prototype"],"sources":["/Users/daniel.calderon/Projects/barkito/barkito_front/node_modules/dd-trace/packages/datadog-instrumentations/src/limitd-client.js"],"sourcesContent":["'use strict'\n\nconst { addHook, AsyncResource } = require('./helpers/instrument')\nconst shimmer = require('../../datadog-shimmer')\n\nfunction wrapRequest (original) {\n  return function () {\n    const id = arguments.length - 1\n    arguments[id] = AsyncResource.bind(arguments[id])\n    return original.apply(this, arguments)\n  }\n}\n\naddHook({\n  name: 'limitd-client',\n  versions: ['>=2.8']\n}, LimitdClient => {\n  shimmer.wrap(LimitdClient.prototype, '_directRequest', wrapRequest)\n  shimmer.wrap(LimitdClient.prototype, '_retriedRequest', wrapRequest)\n  return LimitdClient\n})\n"],"mappings":"AAAA;;AAEA,MAAM;EAAEA,OAAF;EAAWC;AAAX,IAA6BC,OAAO,CAAC,sBAAD,CAA1C;;AACA,MAAMC,OAAO,GAAGD,OAAO,CAAC,uBAAD,CAAvB;;AAEA,SAASE,WAAT,CAAsBC,QAAtB,EAAgC;EAC9B,OAAO,YAAY;IACjB,MAAMC,EAAE,GAAGC,SAAS,CAACC,MAAV,GAAmB,CAA9B;IACAD,SAAS,CAACD,EAAD,CAAT,GAAgBL,aAAa,CAACQ,IAAd,CAAmBF,SAAS,CAACD,EAAD,CAA5B,CAAhB;IACA,OAAOD,QAAQ,CAACK,KAAT,CAAe,IAAf,EAAqBH,SAArB,CAAP;EACD,CAJD;AAKD;;AAEDP,OAAO,CAAC;EACNW,IAAI,EAAE,eADA;EAENC,QAAQ,EAAE,CAAC,OAAD;AAFJ,CAAD,EAGJC,YAAY,IAAI;EACjBV,OAAO,CAACW,IAAR,CAAaD,YAAY,CAACE,SAA1B,EAAqC,gBAArC,EAAuDX,WAAvD;EACAD,OAAO,CAACW,IAAR,CAAaD,YAAY,CAACE,SAA1B,EAAqC,iBAArC,EAAwDX,WAAxD;EACA,OAAOS,YAAP;AACD,CAPM,CAAP"},"metadata":{},"sourceType":"script"}