{"ast":null,"code":"'use strict';\n\nclass NativeSpaceProfiler {\n  constructor() {\n    let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this.type = 'space';\n    this._samplingInterval = options.samplingInterval || 512 * 1024;\n    this._stackDepth = options.stackDepth || 64;\n    this._pprof = undefined;\n  }\n\n  start() {\n    let {\n      mapper\n    } = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    this._mapper = mapper;\n    this._pprof = require('@datadog/pprof');\n\n    this._pprof.heap.start(this._samplingInterval, this._stackDepth);\n  }\n\n  profile() {\n    return this._pprof.heap.profile(undefined, this._mapper);\n  }\n\n  encode(profile) {\n    return this._pprof.encode(profile);\n  }\n\n  stop() {\n    this._pprof.heap.stop();\n  }\n\n}\n\nmodule.exports = NativeSpaceProfiler;","map":{"version":3,"names":["NativeSpaceProfiler","constructor","options","type","_samplingInterval","samplingInterval","_stackDepth","stackDepth","_pprof","undefined","start","mapper","_mapper","require","heap","profile","encode","stop","module","exports"],"sources":["/Users/daniel.calderon/Projects/barkito/barkito_front/node_modules/dd-trace/packages/dd-trace/src/profiling/profilers/space.js"],"sourcesContent":["'use strict'\n\nclass NativeSpaceProfiler {\n  constructor (options = {}) {\n    this.type = 'space'\n    this._samplingInterval = options.samplingInterval || 512 * 1024\n    this._stackDepth = options.stackDepth || 64\n    this._pprof = undefined\n  }\n\n  start ({ mapper } = {}) {\n    this._mapper = mapper\n    this._pprof = require('@datadog/pprof')\n    this._pprof.heap.start(this._samplingInterval, this._stackDepth)\n  }\n\n  profile () {\n    return this._pprof.heap.profile(undefined, this._mapper)\n  }\n\n  encode (profile) {\n    return this._pprof.encode(profile)\n  }\n\n  stop () {\n    this._pprof.heap.stop()\n  }\n}\n\nmodule.exports = NativeSpaceProfiler\n"],"mappings":"AAAA;;AAEA,MAAMA,mBAAN,CAA0B;EACxBC,WAAW,GAAgB;IAAA,IAAdC,OAAc,uEAAJ,EAAI;IACzB,KAAKC,IAAL,GAAY,OAAZ;IACA,KAAKC,iBAAL,GAAyBF,OAAO,CAACG,gBAAR,IAA4B,MAAM,IAA3D;IACA,KAAKC,WAAL,GAAmBJ,OAAO,CAACK,UAAR,IAAsB,EAAzC;IACA,KAAKC,MAAL,GAAcC,SAAd;EACD;;EAEDC,KAAK,GAAmB;IAAA,IAAjB;MAAEC;IAAF,CAAiB,uEAAJ,EAAI;IACtB,KAAKC,OAAL,GAAeD,MAAf;IACA,KAAKH,MAAL,GAAcK,OAAO,CAAC,gBAAD,CAArB;;IACA,KAAKL,MAAL,CAAYM,IAAZ,CAAiBJ,KAAjB,CAAuB,KAAKN,iBAA5B,EAA+C,KAAKE,WAApD;EACD;;EAEDS,OAAO,GAAI;IACT,OAAO,KAAKP,MAAL,CAAYM,IAAZ,CAAiBC,OAAjB,CAAyBN,SAAzB,EAAoC,KAAKG,OAAzC,CAAP;EACD;;EAEDI,MAAM,CAAED,OAAF,EAAW;IACf,OAAO,KAAKP,MAAL,CAAYQ,MAAZ,CAAmBD,OAAnB,CAAP;EACD;;EAEDE,IAAI,GAAI;IACN,KAAKT,MAAL,CAAYM,IAAZ,CAAiBG,IAAjB;EACD;;AAxBuB;;AA2B1BC,MAAM,CAACC,OAAP,GAAiBnB,mBAAjB"},"metadata":{},"sourceType":"script"}