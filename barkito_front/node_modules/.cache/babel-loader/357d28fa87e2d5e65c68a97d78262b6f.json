{"ast":null,"code":"'use strict'; // TODO: support https://moleculer.services/docs/0.13/actions.html#Streaming\n\nconst Plugin = require('../../dd-trace/src/plugins/plugin');\n\nconst MoleculerServerPlugin = require('./server');\n\nconst MoleculerClientPlugin = require('./client');\n\nclass MoleculerPlugin extends Plugin {\n  static get name() {\n    return 'moleculer';\n  }\n\n  constructor() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    super(...args);\n    this.server = new MoleculerServerPlugin(...args);\n    this.client = new MoleculerClientPlugin(...args);\n  }\n\n  configure(config) {\n    const clientConfig = config.client === false ? false : { ...config,\n      ...config.client\n    };\n    const serverConfig = config.server === false ? false : { ...config,\n      ...config.server\n    };\n    this.server.configure(serverConfig);\n    this.client.configure(clientConfig);\n  }\n\n}\n\nmodule.exports = MoleculerPlugin;","map":{"version":3,"names":["Plugin","require","MoleculerServerPlugin","MoleculerClientPlugin","MoleculerPlugin","name","constructor","args","server","client","configure","config","clientConfig","serverConfig","module","exports"],"sources":["/Users/daniel.calderon/Projects/barkito/barkito_front/node_modules/dd-trace/packages/datadog-plugin-moleculer/src/index.js"],"sourcesContent":["'use strict'\n\n// TODO: support https://moleculer.services/docs/0.13/actions.html#Streaming\n\nconst Plugin = require('../../dd-trace/src/plugins/plugin')\nconst MoleculerServerPlugin = require('./server')\nconst MoleculerClientPlugin = require('./client')\n\nclass MoleculerPlugin extends Plugin {\n  static get name () {\n    return 'moleculer'\n  }\n\n  constructor (...args) {\n    super(...args)\n\n    this.server = new MoleculerServerPlugin(...args)\n    this.client = new MoleculerClientPlugin(...args)\n  }\n\n  configure (config) {\n    const clientConfig = config.client === false ? false : {\n      ...config,\n      ...config.client\n    }\n\n    const serverConfig = config.server === false ? false : {\n      ...config,\n      ...config.server\n    }\n\n    this.server.configure(serverConfig)\n    this.client.configure(clientConfig)\n  }\n}\n\nmodule.exports = MoleculerPlugin\n"],"mappings":"AAAA,a,CAEA;;AAEA,MAAMA,MAAM,GAAGC,OAAO,CAAC,mCAAD,CAAtB;;AACA,MAAMC,qBAAqB,GAAGD,OAAO,CAAC,UAAD,CAArC;;AACA,MAAME,qBAAqB,GAAGF,OAAO,CAAC,UAAD,CAArC;;AAEA,MAAMG,eAAN,SAA8BJ,MAA9B,CAAqC;EACpB,WAAJK,IAAI,GAAI;IACjB,OAAO,WAAP;EACD;;EAEDC,WAAW,GAAW;IAAA,kCAANC,IAAM;MAANA,IAAM;IAAA;;IACpB,MAAM,GAAGA,IAAT;IAEA,KAAKC,MAAL,GAAc,IAAIN,qBAAJ,CAA0B,GAAGK,IAA7B,CAAd;IACA,KAAKE,MAAL,GAAc,IAAIN,qBAAJ,CAA0B,GAAGI,IAA7B,CAAd;EACD;;EAEDG,SAAS,CAAEC,MAAF,EAAU;IACjB,MAAMC,YAAY,GAAGD,MAAM,CAACF,MAAP,KAAkB,KAAlB,GAA0B,KAA1B,GAAkC,EACrD,GAAGE,MADkD;MAErD,GAAGA,MAAM,CAACF;IAF2C,CAAvD;IAKA,MAAMI,YAAY,GAAGF,MAAM,CAACH,MAAP,KAAkB,KAAlB,GAA0B,KAA1B,GAAkC,EACrD,GAAGG,MADkD;MAErD,GAAGA,MAAM,CAACH;IAF2C,CAAvD;IAKA,KAAKA,MAAL,CAAYE,SAAZ,CAAsBG,YAAtB;IACA,KAAKJ,MAAL,CAAYC,SAAZ,CAAsBE,YAAtB;EACD;;AAzBkC;;AA4BrCE,MAAM,CAACC,OAAP,GAAiBX,eAAjB"},"metadata":{},"sourceType":"script"}